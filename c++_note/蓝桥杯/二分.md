# 二分

## 特点

- 带求量为最值，答案落在有限区间

## 代码逻辑

- 以二分法遍历答案，对每个答案做正确性校验，如果正确就尝试更优的答案，否则就回退到更次的答案

## 例题

### 1、分巧克力

#### 问题描述

N块巧克力的长宽分别为h~i~和w~i~，现在要分为M块相同的正方形巧克力，求这些巧克力的最大面积

#### 代码逻辑

- 记录N块巧克力中的边长最大值，答案对应的边长显然小于等于这个最大值且大于等于1
- 校验答案时，只需要判断能否按照答案给定的面积分出M块巧克力即可
- 对于一块巧克力，如果要分成边长x的正方形，它可以切出(h~i~/x)*(w~i~/x)块

#### 核心代码

```c++
	int left = 1, right = maxh;
	while(left<right)
    {
        int ans = 0, mid = ( (left + right + 1) >> 1 );
        for(int i=1;i<=n;i++)
            ans += h[i] / mid * w[i] */ mid;
        if(ans>=M)
            left = mid;
        else
            right = mid-1;
    }
```

### 2、跳石头

#### 问题描述

有N+2块石头，第一块和最后一块分别为起点和终点，它们之间距离为L，N块石头到起点的距离为d~i~，最多可以搬走M块石头，合理搬走石头，使得从起点到终点过程中跳跃过的最小距离取得最大值

#### 代码逻辑

- 从1到L二分查找答案。校验答案正确性：对于指定的答案，跳到终点校验搬走的石头是否小于等于M

#### 核心代码

```c++
	bool judge(int ans)
    {
        int now = 0, next = 0, cnt = 0;
        while(next<=N)
        {
            next++;
            if(d[next]-d[now]<ans)
                cnt++;
          	else
                now = next;
        }
    }
	return cnt<=M;
```

