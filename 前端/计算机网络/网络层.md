# 网络层

### 路由选择

在网络层控制平面用路由选择算法计算路由



### 分组转发

每台路由器都有转发表，从分组中的首部字段取出索引并根据索引查找分组的输出链路接口



### IPv4数据报

一般数据报首部长20字节，最后八个字节是源端口和目的端口，每个字节换算成一个十进制数，组成常见的ip地址（点分十进制记法）



### IPv4地址与接口

每台主机与物理链路之间的边界称为接口，每个接口与一个IP地址对应



### 子网

假设路由器接口`223.1.1.4`，有三个主机接口`223.1.1.1 , 223.1.1.2 , 223.1.1.3 `，这四个接口构成一个子网`233.1.1.0/24`

其中`24`表示以最左侧的`24`个比特定义子网的地址，任何想要连到`233.1.1.0/24`的主机，其ip地址都需要是`233.1.1.xxx`形式。



#### A、B 、C类网络

`x`为8、16、24时分别对应A、B、C类网络，各类网络内部可用的主机数量是`2^(32-x) - 2`，因为全`0`用做网络地址，全`1`用做广播地址

